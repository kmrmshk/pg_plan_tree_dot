digraph {
graph [rankdir = "LR", label = "Plan Tree: WITH tmp (aggkey, sum, avg, max, min) AS (SELECT aggkey, sum(i), avg(i), max(i), min(i) FROM input_table GROUP BY aggkey) INSERT INTO output_table (aggkey, sum, avg, max, min) SELECT * FROM tmp;"]
node  [shape=record,style=filled,fillcolor=gray95]
edge  [arrowtail=empty]
27[label = "<head> Alias (27)|aliasname: output_table|<colnames> colnames: "]
29[label = "<head> String (29)|aggkey"]
28[label = "<head> List (28)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]"]
30[label = "<head> String (30)|sum"]
31[label = "<head> String (31)|avg"]
32[label = "<head> String (32)|max"]
33[label = "<head> String (33)|min"]
35[label = "<head> Alias (35)|aliasname: *SELECT*"]
36[label = "<head> Alias (36)|aliasname: *SELECT*|<colnames> colnames: "]
38[label = "<head> String (38)|aggkey"]
37[label = "<head> List (37)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]"]
39[label = "<head> String (39)|sum"]
40[label = "<head> String (40)|avg"]
41[label = "<head> String (41)|max"]
42[label = "<head> String (42)|min"]
52[label = "<head> Alias (52)|aliasname: input_table|<colnames> colnames: "]
53[label = "<head> List (53)|<1> [0]|<2> [1]|<3> [2]"]
54[label = "<head> String (54)|aggkey"]
55[label = "<head> String (55)|i"]
56[label = "<head> String (56)|t"]
83[label = "<head> SeqScan (83)|startup_cost: 0.00|total_cost: 21.60|plan_rows: 1160|plan_width: 8|<targetlist> targetlist: |extParam: (b)|allParam: (b)|scanrelid: 4"]
59[label = "<head> Agg (59)|startup_cost: 36.10|total_cost: 38.60|plan_rows: 200|plan_width: 8|<targetlist> targetlist: |<lefttree> lefttree: |extParam: (b)|allParam: (b)|aggstrategy: AGG_HASHED|numCols: 1|grpColIdx: 1|grpOperators: 96|numGroups: "]
4[label = "<head> SubPlan (4)|subLinkType: CTE_SUBLINK|plan_id: 1|plan_name: CTE tmp|firstColType: 23|firstColTypmod: -1|useHashTable: false|unknownEqFalse: false|<setParam> setParam: |startup_cost: 0.00|per_call_cost: 38.60"]
5[label = "<head> IntList (5)|0 "]
58[label = "<head> List (58)|<1> [0]"]
3[label = "<head> List (3)|<1> [0]"]
44[label = "<head> Alias (44)|aliasname: tmp|<colnames> colnames: "]
45[label = "<head> List (45)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]"]
46[label = "<head> String (46)|aggkey"]
47[label = "<head> String (47)|sum"]
48[label = "<head> String (48)|avg"]
49[label = "<head> String (49)|max"]
50[label = "<head> String (50)|min"]
8[label = "<head> CteScan (8)|startup_cost: 0.00|total_cost: 5.00|plan_rows: 200|plan_width: 52|<targetlist> targetlist: |extParam: (b 1)|allParam: (b 1)|scanrelid: 3|ctePlanId: 1|cteParam: 0"]
7[label = "<head> List (7)|<1> [0]"]
6[label = "<head> IntList (6)|1 "]
2[label = "<head> ModifyTable (2)|startup_cost: 38.60|total_cost: 43.60|plan_rows: 200|plan_width: 52|<initPlan> initPlan: |extParam: (b)|allParam: (b 0)|operation: CMD_INSERT|<resultRelations> resultRelations: |resultRelIndex: 0|<plans> plans: |<fdwPrivLists> fdwPrivLists: |epqParam: 1"]
24[label = "<head> List (24)|<1> [0]"]
26[label = "<head> RangeTblEntry(RTE) (26)|<eref> eref: |rtekind: RTE_RELATION|relid: 17179|relkind: 114|inh: false|inFromCl: false|requiredPerms: 1|selectedCols: (b)|modifiedCols: (b 9 10 11 12 13)"]
25[label = "<head> List (25)|<1> [0]|<2> [1]|<3> [2]|<4> [3]"]
91[label = "<head> OidList (91)|17179 17173 "]
34[label = "<head> RangeTblEntry(RTE) (34)|<alias> alias: |<eref> eref: |rtekind: RTE_SUBQUERY|security_barrier: false|inh: false|inFromCl: false|requiredPerms: 0|selectedCols: (b)|modifiedCols: (b)"]
43[label = "<head> RangeTblEntry(RTE) (43)|<eref> eref: |rtekind: RTE_CTE|ctename: tmp|ctelevelsup: 0|self_reference: false|inh: false|inFromCl: true|requiredPerms: 2|selectedCols: (b)|modifiedCols: (b)"]
57[label = "<head> IntList (57)|1 "]
51[label = "<head> RangeTblEntry(RTE) (51)|<eref> eref: |rtekind: RTE_RELATION|relid: 17173|relkind: 114|inh: false|inFromCl: true|requiredPerms: 2|selectedCols: (b 9 10)|modifiedCols: (b)"]
1[label = "<head> PlannedStmt (1)|commandType: CMD_INSERT|queryId: 0|hasReturning: false|hasModifyingCTE: false|canSetTag: true|transientPlan: false|<planTree> planTree: |<rtable> rtable: |<resultRelations> resultRelations: |<subplans> subplans: |rewindPlanIDs: (b)|<relationOids> relationOids: |nParamExec: 2"]

27:colnames -> 28:head [headlabel = "27", taillabel = "28"]
28:1 -> 29:head [headlabel = "28", taillabel = "29"]
28:2 -> 30:head [headlabel = "28", taillabel = "30"]
28:3 -> 31:head [headlabel = "28", taillabel = "31"]
28:4 -> 32:head [headlabel = "28", taillabel = "32"]
28:5 -> 33:head [headlabel = "28", taillabel = "33"]
36:colnames -> 37:head [headlabel = "36", taillabel = "37"]
37:1 -> 38:head [headlabel = "37", taillabel = "38"]
37:2 -> 39:head [headlabel = "37", taillabel = "39"]
37:3 -> 40:head [headlabel = "37", taillabel = "40"]
37:4 -> 41:head [headlabel = "37", taillabel = "41"]
37:5 -> 42:head [headlabel = "37", taillabel = "42"]
52:colnames -> 53:head [headlabel = "52", taillabel = "53"]
53:1 -> 54:head [headlabel = "53", taillabel = "54"]
53:2 -> 55:head [headlabel = "53", taillabel = "55"]
53:3 -> 56:head [headlabel = "53", taillabel = "56"]
83:targetlist -> 84:head [headlabel = "83", taillabel = "84"]
59:lefttree -> 83:head [headlabel = "59", taillabel = "83"]
59:targetlist -> 60:head [headlabel = "59", taillabel = "60"]
4:setParam -> 5:head [headlabel = "4", taillabel = "5"]
58:1 -> 59:head [headlabel = "58", taillabel = "59"]
3:1 -> 4:head [headlabel = "3", taillabel = "4"]
44:colnames -> 45:head [headlabel = "44", taillabel = "45"]
45:1 -> 46:head [headlabel = "45", taillabel = "46"]
45:2 -> 47:head [headlabel = "45", taillabel = "47"]
45:3 -> 48:head [headlabel = "45", taillabel = "48"]
45:4 -> 49:head [headlabel = "45", taillabel = "49"]
45:5 -> 50:head [headlabel = "45", taillabel = "50"]
8:targetlist -> 9:head [headlabel = "8", taillabel = "9"]
7:1 -> 8:head [headlabel = "7", taillabel = "8"]
2:initPlan -> 3:head [headlabel = "2", taillabel = "3"]
2:plans -> 7:head [headlabel = "2", taillabel = "7"]
2:resultRelations -> 6:head [headlabel = "2", taillabel = "6"]
2:fdwPrivLists -> 24:head [headlabel = "2", taillabel = "24"]
26:eref -> 27:head [headlabel = "26", taillabel = "27"]
25:1 -> 26:head [headlabel = "25", taillabel = "26"]
25:2 -> 34:head [headlabel = "25", taillabel = "34"]
25:3 -> 43:head [headlabel = "25", taillabel = "43"]
25:4 -> 51:head [headlabel = "25", taillabel = "51"]
34:alias -> 35:head [headlabel = "34", taillabel = "35"]
34:eref -> 36:head [headlabel = "34", taillabel = "36"]
43:eref -> 44:head [headlabel = "43", taillabel = "44"]
51:eref -> 52:head [headlabel = "51", taillabel = "52"]
1:subplans -> 58:head [headlabel = "1", taillabel = "58"]
1:planTree -> 2:head [headlabel = "1", taillabel = "2"]
1:rtable -> 25:head [headlabel = "1", taillabel = "25"]
1:relationOids -> 91:head [headlabel = "1", taillabel = "91"]
1:resultRelations -> 57:head [headlabel = "1", taillabel = "57"]

subgraph cluster_0 {
	label = "Target List";
	10[label = "<head> TargetEntry (10)|<expr> expr: |resno: 1|resname: aggkey|resjunk: false"]
	11[label = "<head> Var (11)|varno: 3|varattno: 1|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 3|varoattno: 1"]
	12[label = "<head> TargetEntry (12)|<expr> expr: |resno: 2|resname: sum|resjunk: false"]
	15[label = "<head> Var (15)|varno: 3|varattno: 2|vartype: 20|vartypmod: -1|varlevelsup: 0|varnoold: 3|varoattno: 2"]
	14[label = "<head> List (14)|<1> [0]"]
	13[label = "<head> FuncExpr (13)|funcid: 480|funcresulttype: 23|funcretset: false|funcvariadic: false|funcformat: COERCE_IMPLICIT_CAST|<args> args: "]
	16[label = "<head> TargetEntry (16)|<expr> expr: |resno: 3|resname: avg|resjunk: false"]
	19[label = "<head> Var (19)|varno: 3|varattno: 3|vartype: 1700|vartypmod: -1|varlevelsup: 0|varnoold: 3|varoattno: 3"]
	18[label = "<head> List (18)|<1> [0]"]
	17[label = "<head> FuncExpr (17)|funcid: 1744|funcresulttype: 23|funcretset: false|funcvariadic: false|funcformat: COERCE_IMPLICIT_CAST|<args> args: "]
	20[label = "<head> TargetEntry (20)|<expr> expr: |resno: 4|resname: max|resjunk: false"]
	21[label = "<head> Var (21)|varno: 3|varattno: 4|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 3|varoattno: 4"]
	22[label = "<head> TargetEntry (22)|<expr> expr: |resno: 5|resname: min|resjunk: false"]
	23[label = "<head> Var (23)|varno: 3|varattno: 5|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 3|varoattno: 5"]
	9[label = "<head> List (9)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]"]

	10:expr -> 11:head [headlabel = "10", taillabel = "11"]
	12:expr -> 13:head [headlabel = "12", taillabel = "13"]
	14:1 -> 15:head [headlabel = "14", taillabel = "15"]
	13:args -> 14:head [headlabel = "13", taillabel = "14"]
	16:expr -> 17:head [headlabel = "16", taillabel = "17"]
	18:1 -> 19:head [headlabel = "18", taillabel = "19"]
	17:args -> 18:head [headlabel = "17", taillabel = "18"]
	20:expr -> 21:head [headlabel = "20", taillabel = "21"]
	22:expr -> 23:head [headlabel = "22", taillabel = "23"]
	9:1 -> 10:head [headlabel = "9", taillabel = "10"]
	9:2 -> 12:head [headlabel = "9", taillabel = "12"]
	9:3 -> 16:head [headlabel = "9", taillabel = "16"]
	9:4 -> 20:head [headlabel = "9", taillabel = "20"]
	9:5 -> 22:head [headlabel = "9", taillabel = "22"]
}

subgraph cluster_1 {
	label = "Target List";
	62[label = "<head> Var (62)|varno: OUTER_VAR|varattno: 1|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 1|location: 49"]
	61[label = "<head> TargetEntry (61)|<expr> expr: |resno: 1|resname: aggkey|ressortgroupref: 1|resorigtbl: 17173|resorigcol: 1|resjunk: false"]
	60[label = "<head> List (60)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]"]
	64[label = "<head> Aggref (64)|aggfnoid: 2108|aggtype: 20|<args> args: |aggstar: false|aggvariadic: false|aggkind: 110|agglevelsup: 0|location: 57"]
	66[label = "<head> TargetEntry (66)|<expr> expr: |resno: 1|resjunk: false"]
	67[label = "<head> Var (67)|varno: OUTER_VAR|varattno: 2|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 2|location: 61"]
	65[label = "<head> List (65)|<1> [0]"]
	63[label = "<head> TargetEntry (63)|<expr> expr: |resno: 2|resname: sum|resjunk: false"]
	69[label = "<head> Aggref (69)|aggfnoid: 2101|aggtype: 1700|<args> args: |aggstar: false|aggvariadic: false|aggkind: 110|agglevelsup: 0|location: 65"]
	71[label = "<head> TargetEntry (71)|<expr> expr: |resno: 1|resjunk: false"]
	72[label = "<head> Var (72)|varno: OUTER_VAR|varattno: 2|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 2|location: 69"]
	70[label = "<head> List (70)|<1> [0]"]
	68[label = "<head> TargetEntry (68)|<expr> expr: |resno: 3|resname: avg|resjunk: false"]
	74[label = "<head> Aggref (74)|aggfnoid: 2116|aggtype: 23|<args> args: |aggstar: false|aggvariadic: false|aggkind: 110|agglevelsup: 0|location: 73"]
	76[label = "<head> TargetEntry (76)|<expr> expr: |resno: 1|resjunk: false"]
	77[label = "<head> Var (77)|varno: OUTER_VAR|varattno: 2|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 2|location: 77"]
	75[label = "<head> List (75)|<1> [0]"]
	73[label = "<head> TargetEntry (73)|<expr> expr: |resno: 4|resname: max|resjunk: false"]
	79[label = "<head> Aggref (79)|aggfnoid: 2132|aggtype: 23|<args> args: |aggstar: false|aggvariadic: false|aggkind: 110|agglevelsup: 0|location: 81"]
	81[label = "<head> TargetEntry (81)|<expr> expr: |resno: 1|resjunk: false"]
	82[label = "<head> Var (82)|varno: OUTER_VAR|varattno: 2|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 2|location: 85"]
	80[label = "<head> List (80)|<1> [0]"]
	78[label = "<head> TargetEntry (78)|<expr> expr: |resno: 5|resname: min|resjunk: false"]

	61:expr -> 62:head [headlabel = "61", taillabel = "62"]
	60:1 -> 61:head [headlabel = "60", taillabel = "61"]
	60:2 -> 63:head [headlabel = "60", taillabel = "63"]
	60:3 -> 68:head [headlabel = "60", taillabel = "68"]
	60:4 -> 73:head [headlabel = "60", taillabel = "73"]
	60:5 -> 78:head [headlabel = "60", taillabel = "78"]
	64:args -> 65:head [headlabel = "64", taillabel = "65"]
	66:expr -> 67:head [headlabel = "66", taillabel = "67"]
	65:1 -> 66:head [headlabel = "65", taillabel = "66"]
	63:expr -> 64:head [headlabel = "63", taillabel = "64"]
	69:args -> 70:head [headlabel = "69", taillabel = "70"]
	71:expr -> 72:head [headlabel = "71", taillabel = "72"]
	70:1 -> 71:head [headlabel = "70", taillabel = "71"]
	68:expr -> 69:head [headlabel = "68", taillabel = "69"]
	74:args -> 75:head [headlabel = "74", taillabel = "75"]
	76:expr -> 77:head [headlabel = "76", taillabel = "77"]
	75:1 -> 76:head [headlabel = "75", taillabel = "76"]
	73:expr -> 74:head [headlabel = "73", taillabel = "74"]
	79:args -> 80:head [headlabel = "79", taillabel = "80"]
	81:expr -> 82:head [headlabel = "81", taillabel = "82"]
	80:1 -> 81:head [headlabel = "80", taillabel = "81"]
	78:expr -> 79:head [headlabel = "78", taillabel = "79"]
}

subgraph cluster_2 {
	label = "Target List";
	85[label = "<head> TargetEntry (85)|<expr> expr: |resno: 1|resjunk: false"]
	86[label = "<head> Var (86)|varno: 4|varattno: 1|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 1"]
	84[label = "<head> List (84)|<1> [0]|<2> [1]|<3> [2]"]
	87[label = "<head> TargetEntry (87)|<expr> expr: |resno: 2|resjunk: false"]
	88[label = "<head> Var (88)|varno: 4|varattno: 2|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 4|varoattno: 2"]
	89[label = "<head> TargetEntry (89)|<expr> expr: |resno: 3|resjunk: false"]
	90[label = "<head> Var (90)|varno: 4|varattno: 3|vartype: 25|vartypmod: -1|varcollid: 100|varlevelsup: 0|varnoold: 4|varoattno: 3"]

	85:expr -> 86:head [headlabel = "85", taillabel = "86"]
	84:1 -> 85:head [headlabel = "84", taillabel = "85"]
	84:2 -> 87:head [headlabel = "84", taillabel = "87"]
	84:3 -> 89:head [headlabel = "84", taillabel = "89"]
	87:expr -> 88:head [headlabel = "87", taillabel = "88"]
	89:expr -> 90:head [headlabel = "89", taillabel = "90"]
}

}

