digraph {
graph [rankdir = "LR", label = "Plan Tree: SELECT city, ID, salary, rank() OVER w, avg(salary) OVER w FROM employee WINDOW w AS (PARTITION  BY city ORDER BY salary DESC);"]
node  [shape=record,style=filled,fillcolor=gray95]
edge  [arrowtail=empty]
16[label = "<head> Sort (16)|startup_cost: 46.87|total_cost: 48.49|plan_rows: 650|plan_width: 46|<targetlist> targetlist: |<lefttree> lefttree: |extParam: (b)|allParam: (b)|numCols: 2|sortColIdx: 1 2|sortOperators: 664 623|collations: 100 0|nullsFirst: false true"]
34[label = "<head> Alias (34)|aliasname: employee|<colnames> colnames: "]
36[label = "<head> String (36)|id"]
35[label = "<head> List (35)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]|<6> [5]"]
37[label = "<head> String (37)|name"]
38[label = "<head> String (38)|salary"]
39[label = "<head> String (39)|start_date"]
40[label = "<head> String (40)|city"]
41[label = "<head> String (41)|region"]
2[label = "<head> WindowAgg (2)|startup_cost: 46.87|total_cost: 61.49|plan_rows: 650|plan_width: 46|<targetlist> targetlist: |<lefttree> lefttree: |extParam: (b)|allParam: (b)|winref: 1|partNumCols: 1|partColIdx: 1|partOperators: 98|ordNumCols: 1|ordColIdx: 2|ordOperators: 620|frameOptions: 530"]
33[label = "<head> RangeTblEntry(RTE) (33)|rtekind: RTE_RELATION|relid: 197568|relkind: 114|<eref> eref: |lateral: false|inh: false|inFromCl: true|requiredPerms: 2|selectedCols: (b 9 11 13)|insertedCols: (b)|updatedCols: (b)"]
24[label = "<head> SeqScan (24)|startup_cost: 0.00|total_cost: 16.50|plan_rows: 650|plan_width: 46|<targetlist> targetlist: |extParam: (b)|allParam: (b)|scanrelid: 1"]
1[label = "<head> PlannedStmt (1)|commandType: CMD_SELECT|queryId: 0|hasReturning: false|hasModifyingCTE: false|canSetTag: true|transientPlan: false|<planTree> planTree: |<rtable> rtable: |rewindPlanIDs: (b)|<relationOids> relationOids: |nParamExec: 0|hasRowSecurity: false"]
32[label = "<head> List (32)|<1> [0]"]
42[label = "<head> OidList (42)|197568 "]

16:lefttree -> 24:head [headlabel = "16", taillabel = "24"]
16:targetlist -> 17:head [headlabel = "16", taillabel = "17"]
34:colnames -> 35:head [headlabel = "34", taillabel = "35"]
35:1 -> 36:head [headlabel = "35", taillabel = "36"]
35:2 -> 37:head [headlabel = "35", taillabel = "37"]
35:3 -> 38:head [headlabel = "35", taillabel = "38"]
35:4 -> 39:head [headlabel = "35", taillabel = "39"]
35:5 -> 40:head [headlabel = "35", taillabel = "40"]
35:6 -> 41:head [headlabel = "35", taillabel = "41"]
2:lefttree -> 16:head [headlabel = "2", taillabel = "16"]
2:targetlist -> 3:head [headlabel = "2", taillabel = "3"]
33:eref -> 34:head [headlabel = "33", taillabel = "34"]
24:targetlist -> 25:head [headlabel = "24", taillabel = "25"]
1:planTree -> 2:head [headlabel = "1", taillabel = "2"]
1:rtable -> 32:head [headlabel = "1", taillabel = "32"]
1:relationOids -> 42:head [headlabel = "1", taillabel = "42"]
32:1 -> 33:head [headlabel = "32", taillabel = "33"]

subgraph cluster_0 {
	label = "Target List";
	25[label = "<head> List (25)|<1> [0]|<2> [1]|<3> [2]"]
	26[label = "<head> TargetEntry (26)|<expr> expr: |resno: 1|ressortgroupref: 2|resjunk: false"]
	27[label = "<head> Var (27)|varno: 1|varattno: 5|vartype: 1043|vartypmod: 14|varcollid: 100|varlevelsup: 0|varnoold: 1|varoattno: 5|location: 7"]
	28[label = "<head> TargetEntry (28)|<expr> expr: |resno: 2|ressortgroupref: 1|resjunk: false"]
	29[label = "<head> Var (29)|varno: 1|varattno: 3|vartype: 700|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 3|location: 17"]
	30[label = "<head> TargetEntry (30)|<expr> expr: |resno: 3|resjunk: false"]
	31[label = "<head> Var (31)|varno: 1|varattno: 1|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 1|location: 13"]

	25:1 -> 26:head [headlabel = "25", taillabel = "26"]
	25:2 -> 28:head [headlabel = "25", taillabel = "28"]
	25:3 -> 30:head [headlabel = "25", taillabel = "30"]
	26:expr -> 27:head [headlabel = "26", taillabel = "27"]
	28:expr -> 29:head [headlabel = "28", taillabel = "29"]
	30:expr -> 31:head [headlabel = "30", taillabel = "31"]
}

subgraph cluster_1 {
	label = "Target List";
	5[label = "<head> Var (5)|varno: OUTER_VAR|varattno: 1|vartype: 1043|vartypmod: 14|varcollid: 100|varlevelsup: 0|varnoold: 1|varoattno: 5|location: 7"]
	4[label = "<head> TargetEntry (4)|<expr> expr: |resno: 1|resname: city|ressortgroupref: 2|resorigtbl: 197568|resorigcol: 5|resjunk: false"]
	3[label = "<head> List (3)|<1> [0]|<2> [1]|<3> [2]|<4> [3]|<5> [4]"]
	7[label = "<head> Var (7)|varno: OUTER_VAR|varattno: 3|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 1|location: 13"]
	6[label = "<head> TargetEntry (6)|<expr> expr: |resno: 2|resname: id|resorigtbl: 197568|resorigcol: 1|resjunk: false"]
	9[label = "<head> Var (9)|varno: OUTER_VAR|varattno: 2|vartype: 700|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 3|location: 17"]
	8[label = "<head> TargetEntry (8)|<expr> expr: |resno: 3|resname: salary|ressortgroupref: 1|resorigtbl: 197568|resorigcol: 3|resjunk: false"]
	11[label = "<head> WindowFunc (11)|winfnoid: 3101|wintype: 20|winref: 1|winstar: false|winagg: false|location: 25"]
	10[label = "<head> TargetEntry (10)|<expr> expr: |resno: 4|resname: rank|resjunk: false"]
	13[label = "<head> WindowFunc (13)|winfnoid: 2104|wintype: 701|<args> args: |winref: 1|winstar: false|winagg: true|location: 40"]
	15[label = "<head> Var (15)|varno: OUTER_VAR|varattno: 2|vartype: 700|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 3|location: 44"]
	14[label = "<head> List (14)|<1> [0]"]
	12[label = "<head> TargetEntry (12)|<expr> expr: |resno: 5|resname: avg|resjunk: false"]

	4:expr -> 5:head [headlabel = "4", taillabel = "5"]
	3:1 -> 4:head [headlabel = "3", taillabel = "4"]
	3:2 -> 6:head [headlabel = "3", taillabel = "6"]
	3:3 -> 8:head [headlabel = "3", taillabel = "8"]
	3:4 -> 10:head [headlabel = "3", taillabel = "10"]
	3:5 -> 12:head [headlabel = "3", taillabel = "12"]
	6:expr -> 7:head [headlabel = "6", taillabel = "7"]
	8:expr -> 9:head [headlabel = "8", taillabel = "9"]
	10:expr -> 11:head [headlabel = "10", taillabel = "11"]
	13:args -> 14:head [headlabel = "13", taillabel = "14"]
	14:1 -> 15:head [headlabel = "14", taillabel = "15"]
	12:expr -> 13:head [headlabel = "12", taillabel = "13"]
}

subgraph cluster_2 {
	label = "Target List";
	19[label = "<head> Var (19)|varno: OUTER_VAR|varattno: 1|vartype: 1043|vartypmod: 14|varcollid: 100|varlevelsup: 0|varnoold: 1|varoattno: 5"]
	18[label = "<head> TargetEntry (18)|<expr> expr: |resno: 1|ressortgroupref: 2|resjunk: false"]
	17[label = "<head> List (17)|<1> [0]|<2> [1]|<3> [2]"]
	21[label = "<head> Var (21)|varno: OUTER_VAR|varattno: 2|vartype: 700|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 3"]
	20[label = "<head> TargetEntry (20)|<expr> expr: |resno: 2|ressortgroupref: 1|resjunk: false"]
	23[label = "<head> Var (23)|varno: OUTER_VAR|varattno: 3|vartype: 23|vartypmod: -1|varlevelsup: 0|varnoold: 1|varoattno: 1"]
	22[label = "<head> TargetEntry (22)|<expr> expr: |resno: 3|resjunk: false"]

	18:expr -> 19:head [headlabel = "18", taillabel = "19"]
	17:1 -> 18:head [headlabel = "17", taillabel = "18"]
	17:2 -> 20:head [headlabel = "17", taillabel = "20"]
	17:3 -> 22:head [headlabel = "17", taillabel = "22"]
	20:expr -> 21:head [headlabel = "20", taillabel = "21"]
	22:expr -> 23:head [headlabel = "22", taillabel = "23"]
}

}

